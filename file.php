<?php

require 'Signal.php';

$phone = "+2348012345678";

//generate captcha from https://signalcaptchas.org/registration/generate.html
// or from https://signalcaptchas.org/challenge/generate.html
$captcha = "signalcaptcha://signal-hcaptcha.30b01b46-d8c9-4c30-bbd7-9719acfe0c10.challenge.P1_eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.hKdwYXNza2V5xQl7bHZ5x2lr1N6XP4vOfNNpajzhlwDzcJuRcitaThUa24Hoo_RT85wlzZEJ5vGHZxdckkN2ckL3p8aVSb9NgtdDpOLLzAullYWUabZKf52J8MHoExxnT_uHSYGOFkoXC51CURa0eV4HfwTmXfxNdEYFKziVDETKrJTNMmb-c7UqbmDaisys64GuW1W-U9iP_sUbuHjmcYFBafp3ByLGdKKyz6LYVoGg6sOZy90qb0bKz3OdvHY7tbr5fusltP_FaAqYLefYKA_cyuoSxkBoFuaYmMf1yd08eMGv2RU4bzN9ogern7SLEVDVeanObGTmU__F-v5KVwxPB6xNLe9KnsNgWhrQ53YbtHrQmA5-VEx_ZMCW3RmKo-XHk9COwdYh7DP1sWc9jlRIMzcgJU45uBgTU9knP8a7kecAc5jD9HqcOuLeJ1VQA4mkGHXBUmo3ISz9xjtvR4Yp4fC6_qg2IdrfrhGZnw08KOSo7L8-jLTCjB1q1qVCBnqC2Zf03ON_pePXYYkmwoZtAHXt1FG3MPEdHzJSFctEZe5MMjCpakIoakF7YvNlIP7AFexkZvCyjQBzpfCCG8OPDwTiFkpK45em1MdaG4S44Dfe6cFTYBcJEO7xoGXUUnx5OmBYemqDQb3NY1s2RMKk2Jy2GFYw3uYaUKyosQM4xz2YmdsmGpd2uMBEZSy1OFZ_tFyMRtEQ7upglCi0AH5J_uByK_7rZaxTvA25DiahfF2LzmEwpCbSANtDwCneRybcHkizH2eGzCyN-WDFQb7MSF3WZU8gUNGcKfLcgzLyfKodwKvMShutnaigbRgkINxWv5Xy1SQQbSyTIWa56tZ4Wb0QH76wt2gRcj4HdpapdzGD7rgEGuBzunVzetqQlrOQBKdsKOgqAMkPMBXxTkKeFBTMA69IT9DG5D4Uh3MJ7Ur1kWkQgpc01l_THAAgytAQyc0fG-FadM9WyOMEJh0zbOSYYIiexdBUGlVpwx1bDiohGRIqdOUdpx-YbDQpDD7MkGx4Hc42-I3cJLvtkAheb-7khvM_2OXrqnAwetf7J3sgeI6mHxAYKgI1KSHJ_MNOD-8fBbRZCC2Ak0Dh23M5yYZsYC1BtynAA5vAdZOdYsVNs76JfJ0tmxvJjBEY0YBzK-IniLOBKZxzabayGK6IHsnQuJMlCUsasnv8swNHJ8eE-SiC9TAqAq_dYnnfwdEIVmHieb1uKUdv1FFo-ayFhVvpk0e6_1CTjqQpoqc8hUNNcP_-J4uzJpqcsP_oevNKfwBN1M43tA9NvgNWx00Okh41TI7gkUMKOokRZO2bbDYuJ_OvE2SRIqUiQTfsyyC_Doy_rbRSBmjW5tlHEo9PnYundd6hZHk7Tu4bmesI8Sgzazqj7PjTUGdMDxwgKs3DvFk3sDNx-5TW_3ERnh_bYd7QvbOn7WYm6iP7XVSlysQcIs5Uc6Dqd24w7zurjZ0AQjVGrzIMvYb-GJ4rB95_P7r3rpelYLmTJoCaCsp5vmTWWzguVrE_PM9LHW6iPE3aQK_0T1mXdodIMCEk0iWYWDtAsOmgnsgdjrmzwfcrf8r-cvtfE4hWhlKtsCx6OFQ2ku004VxLKyYq4Osefbq-JRClOn5FKwX0xVN7_Z_3GRv9k1-qqs3A7PbhqrxiWVkPEUjhpZTNpH45FWRMEVYyxQAv24YLwrZZLBaEeuzNlLFBHNAfbuZARdBOtW8_3jjb62hj-mRZNybGiaNshDWyWxlCXWA6c36_JryGBtzSQ8LTYX5Fk8Oe2MBHkioNBGrnoyB6FRrNY-4_-9ZGMLa9ElkF-eqJ1Q3BS7xYGMpLDCdxQQQNKP8jmsgQjPWo7Rl4-C6Kqmf59FETakhCh2_XiQx9Jf1pdGSkGdMpuWcrpJNDRoFS6weIZwCFnuGbYh6mcWB_PC27mQi3fihk4RiE5UItoYjRsHNMtZEvRJ2HUNz_PrQ_3YVgPBoKLQ1RcxBCEEj7_CsLgrwLKF2GZIPC8BZI1a0M_BExn4AVrKQ_uDcGoVSQVC5ik7fWSB_yKeqf-T27EigwOy7Y4uTntwRgHpwxpv3d0W3r-EjgRIQzvvh9t1Rs4Iew7nT3ph0dO26MCEXq4_s5Apwxy2FvVgoLv6jvJufcKWOgW4I62rbOX2QeXWrd9wArFNUQxEn9N0qo1r2j0qdJ3f3-L0Mxr8_7jCuEhtZT9pXSZ47mTPtlReJ1CzfUu0WR56W8Pd4bM3_I9kMwcn722o7KaDA6M-qybO6OnT2eVCibPHY7hsde52xa3DS4Tf2bgnttTcf6gfYYw25F9ECMMGmlO2_oVNneRV0fdA9obOFqhQ51GW4gp7R2hamyi8rU3mpg54DYUCGlzHmDXYPmowm5yIgdiF7v_fSBxtONDjHEBHyVd3J85C6Ri6RN3Hw6HRtWkvk8dPjpMWDZ7WPN8vzbrK3KE2UAwBLEW_YLIc21AD7AL2x7qRpZi5YFR00UmfBGUAEXxhIRxap_s9y1LwB3b8921gpBnQNd0M0XZE0XP6jRVGCfaMsLY70xiu3csZi_lSDMTqWd1O4CT_-wuLJptH_7VmNeClIqW4rwF2PxZvuBgp_ba0lMwMJGbVzK7D7vnO0s7wx2ybsQe5yLTtUBG5Cq0izYGC_Zzygj2gNSUGtLhUkBau99cIg5PQg3LRLHlQay8Sjp2ADLxRDPUfj3L9OuX_55czi8ZNrWRPKXxifWmPLkfM_HSc22JYuy11yCBWSHWawosPTko9jX1-Hi1hUP-IMKd1QKMx4DAQDEaibjP27ZB0-eam6yD-in1J_WI3pW1AJsKbOU9JdXZZpE7sUBh73OQdIu6YsL9uOle3ytuPsZRygTH3FyyMUAc3HW3uDZyJ_Qdgn_AE-3AhbXIUotU8_F_t9nTLTfFjJ2lnY79-Sh-sOQd--CTX3e5CPnpSwvYCOnlexv8r6KoEcnTrHYym5k_lO8Kck99SJa8Uz0Uikh5ATTszGUx9UwKjvXjoK-lhrCcj3YU55QvHfK1pimkj_2VmIeUs2r-eDS1PtMWquodcef9fEk3CmQQ-1RxrASV0XVJ4TFJFJe_ud7HsHrXss-yFcP8IstH6ifKU1QfDigmSA7y3Y041Jxji7qJFyY8WTwqg_djte_T5ltHfTVaAwbwaRLv1wPzza6RW855M5SiSwnnf_my1xVSl8Lx_1myfRXLXLP1bfasmBrQ_0D_Mcs2fCKx8mE7W_OwGgsfJBVsWU0DG5lo2V4cM5kOqUjqHNoYXJkX2lkzgMxg2-icGQA.qyCKYSzoMeygBCwMy-MZWC5uKm85JE-5_YyyBcGi-F4";

$signal = new Signal($phone);

// $output = $signal->version();

//always the first step
$output = $signal->register($captcha);

$output = $signal->receiveMessages();

//second step
// $output = $signal->verify("023681");


// $output = $signal->sendMessage("+2348058582828", "Hi there, how are you?");

//send custom command
//output = $signal->command("command string")

//list of available commands
//addDevice,block,daemon,deleteLocalAccountData,getAttachment,getUserStatus,joinGroup,jsonRpc,link,listAccounts,listContacts,listDevices,listGroups,listIdentities,listStickerPacks,quitGroup,receive,register,remoteDelete,removeContact,removeDevice,removePin,send,sendContacts,sendPaymentNotification,sendReaction,sendReceipt,sendSyncRequest,sendTyping,setPin,submitRateLimitChallenge,trust,unblock,unregister,updateAccount,updateConfiguration,updateContact,updateGroup,updateProfile,uploadStickerPack,verify,version
